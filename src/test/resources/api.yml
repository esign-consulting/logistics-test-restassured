#%RAML 0.8
---
title: e-BookMobile API
baseUri: http://localhost:8080/api/
mediaType:  application/json
schemas:
  - BadResponse: bad-response-schema.json
    BestRouteResponse: best-route-response-schema.json
    MapCollectionResponse: map-collection-response-schema.json
    MapResponse: map-response-schema.json
    Response: response-schema.json
    RouteResponse: route-response-schema.json
/maps:
    get:
        description: List maps
        responses:
            200:
                body:
                    application/json:
                        schema: MapCollectionResponse
    post:
        description: Create a map
        body:
            application/json:
                schema: |
                    {
                        "title": "New Map Schema",
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string"
                            }
                        },
                        "required": ["name"]
                    }
        responses:
            200:
                body:
                    application/json:
                        schema: MapResponse
    /{mapSlug}:
        get:
            description: Retrieve a map
            responses:
                200:
                    body:
                        application/json:
                            schema: MapResponse
        delete:
            description: Remove a map
            responses:
                200:
                    body:
                        application/json:
                            schema: Response
        /routes:
            get:
                description: List map's routes
                responses:
                    200:
                        body:
                            application/json:
                                schema: RouteResponse
            post:
                description: Create a map's route
                body:
                    application/json:
                        schema: |
                            {
                                "title": "New Map's Route Schema",
                                "type": "object",
                                "properties": {
                                    "origin": {
                                        "type": "object",
                                        "properties": {
                                            "name": {
                                                "type": "string"
                                            }
                                        },
                                        "required": ["name"]
                                    },
                                    "destination": {
                                        "type": "object",
                                        "properties": {
                                            "name": {
                                                "type": "string"
                                            }
                                        },
                                        "required": ["name"]
                                    },
                                    "distance": {
                                        "type": "number"
                                    }
                                },
                                "required": ["origin", "destination", "distance"]
                            }
                responses:
                    200:
                        body:
                            application/json:
                                schema: RouteResponse
            /{routeSlug}:
                get:
                    description: Retrieve a map's route
                delete:
                    description: Remove a map's route
                    responses:
                        200:
                            body:
                                application/json:
                                    schema: Response
        /bestRoute:
            get:
                description: Find out the best route within a map
                queryParameters:
                    originName:
                        displayName: Origin
                        type: string
                        description: The origin's place name
                        example: A
                        required: true
                    destinationName:
                        displayName: Destination
                        type: string
                        description: The destination's place name
                        example: D
                        required: true
                    autonomy:
                        displayName: Autonomy
                        type: number
                        minimum: 0.001
                        description: How many kilometers the truck spends with one litre of gas
                        example: 10
                        required: true
                    gasPrice:
                        displayName: Gas Price
                        type: number
                        minimum: 0.01
                        description: The price of the gas
                        example: 2.50
                        required: true
                responses:
                    200:
                        body:
                            application/json:
                                schema: BestRouteResponse